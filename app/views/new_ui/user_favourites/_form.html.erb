<% if signed_in? %>
  <% user_favourite = @user_favourites&.present? ? @user_favourites.find { |uf| uf.thread_id == thread.id} : thread.favourite_for(current_user) %>
  <span id="favourite-<%= thread.id %>">
    <% if user_favourite&.persisted? %>
      <i class="favourite favourited fas fa-fw fa-star animate__animated" data-url="<%= new_ui_user_favourites_path(id: thread.id) %>"></i>
    <% else %>
      <i class="favourite fas fa-fw fa-star animate__animated" data-url="<%= new_ui_user_favourites_path(id: thread.id) %>"></i>
    <% end %>
  </span>
<% end %>
